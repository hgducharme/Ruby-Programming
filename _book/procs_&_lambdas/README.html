<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Procs &amp; Lambdas | Ruby Programming</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../modules/README.html" />
    
    
    <link rel="prev" href="../classes/README.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="7" data-basepath=".." data-revision="1412528635881">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="basic_syntax/README.html">
            
                
                    <a href="../basic_syntax/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Basic Syntax
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="ruby_loops/README.html">
            
                
                    <a href="../ruby_loops/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Ruby Loops
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="arrays,_hashes,_and_blocks/README.html">
            
                
                    <a href="../arrays,_hashes,_and_blocks/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Data Structures
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="arrays,_hashes,_and_blocks/arrays.html">
            
                
                    <a href="../arrays,_hashes,_and_blocks/arrays.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Arrays
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="arrays,_hashes,_and_blocks/hashes.html">
            
                
                    <a href="../arrays,_hashes,_and_blocks/hashes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Hashes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="arrays,_hashes,_and_blocks/blocks.html">
            
                
                    <a href="../arrays,_hashes,_and_blocks/blocks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Blocks
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="control_flow_in_ruby/README.html">
            
                
                    <a href="../control_flow_in_ruby/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Control Flow in Ruby
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="ruby_methods/README.html">
            
                
                    <a href="../ruby_methods/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Ruby Methods
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="ruby_methods/documentation.html">
            
                
                    <a href="../ruby_methods/documentation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Documentation
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="classes/README.html">
            
                
                    <a href="../classes/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Classes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="7" data-path="procs_&amp;_lambdas/README.html">
            
                
                    <a href="../procs_&amp;_lambdas/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Procs &amp; Lambdas
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="modules/README.html">
            
                
                    <a href="../modules/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         Modules
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Ruby Programming</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_1436">
                    
                        <h1 id="procs">Procs</h1>
<p><strong>Summary:</strong> A proc is a saved block we can use over and over again.</p>
<p><br></p>
<p><strong>General Syntax:</strong></p>
<p>Since blocks are not objects, and cannot be stored in variables along with all the other powers that objects have, we have procs to fill in this role. Procs are sort of like a “saved block”. Just like you can give a bit of code a name and turn it into a method, you can give blocks a name and turn it into a proc. With a block, you have to write your code out every time you use it. However, with procs, you can store this block code, write it only once, and then use it multiple times!</p>
<p><br></p>
<p><strong>Creating a Proc:</strong></p>
<p>To create a proc, all you have to do is call <code>Proc.new</code>, and then pass in the block of code that you want to store. Any time you pass a proc to a method that usually expects a block, you have to use the ampersand (<code>&amp;</code>) operator to then call that proc’s instructions (or block of code). Whenever calling a proc in a method that usually takes a block, make sure to put the proc inside parenthesis like so: <code>.some_method( &amp;some_proc )</code>. Or a simpler version is to use the <code>.call</code> method. It would look like this: <code>some_proc.call</code>.</p>
<p>For example:</p>
<pre><code class="lang-ruby">multiples_of_3 = <span class="hljs-constant">Proc</span>.new <span class="hljs-keyword">do</span> |n|
    n % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>
<span class="hljs-keyword">end</span>

(<span class="hljs-number">1</span>..<span class="hljs-number">100</span>).to_a.select(&amp;multiples_of_3)

<span class="hljs-comment"># ==&gt; 3, 6, 9, 12, 15, 18, 21, 24, 27 ...</span>
</code></pre>
<p>Another example:</p>
<pre><code class="lang-ruby">numbers = [<span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">30</span>]

cubed = <span class="hljs-constant">Proc</span>.new { |n| puts n ** <span class="hljs-number">3</span> }
numbers.map( &amp;cubed )

<span class="hljs-comment"># ==&gt; Cubes each element in the number array, and then puts them on the console</span>
</code></pre>
<p><br>
<br></p>
<p><strong>Blocks vs. Procs:</strong></p>
<p>The benefits of using procs is that since procs are full-fledged objects, they have all the powers and abilities that objects do. Also, unlike blocks, procs can be called over and over again without rewriting them. This saves time and prevents you from having to write the block multiple times.</p>
<p>You can also convert symbols into procs using the ampersand (<code>&amp;</code>) operator.</p>
<p>For example:</p>
<pre><code class="lang-ruby">strings = [<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>]
nums = strings.map(&amp;<span class="hljs-symbol">:to_i</span>)

<span class="hljs-comment"># ==&gt; [1, 2 ,3]</span>
</code></pre>
<p>Another example:</p>
<pre><code class="lang-ruby">numbers_array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    strings_array = numbers_array.map(&amp;<span class="hljs-symbol">:to_s</span>)

<span class="hljs-comment"># ==&gt; ["1", "2", "3", "4", "5"]</span>
</code></pre>
<p><br>
<br>
<br>
<br></p>
<h1 id="lambdas">Lambdas</h1>
<p><br>
<strong>Summary:</strong> A lambda is just like a proc, only it cares about the number of arguments it gets and it returns to its calling method rather than returning immediately.</p>
<p><br></p>
<p><strong>General Syntax:</strong></p>
<p>Like procs, lambdas are objects too. With the exception of a little syntax and a few behavioral quirks, lambdas are identical to procs. Lambdas are defined like this: <code>lambda { |param| block }</code>. Lambdas are useful in the same situation that you would use procs.</p>
<p>For example:</p>
<pre><code class="lang-ruby">strings = [<span class="hljs-string">"leonardo"</span>, <span class="hljs-string">"donatello"</span>, <span class="hljs-string">"raphel"</span>, <span class="hljs-string">"michaelangelo"</span>]

symbolize = lambda { |name| name.to_sym } <span class="hljs-keyword">nil</span>
strings.collect(&amp;symbolize)

<span class="hljs-comment"># ==&gt; [:leonardo, :donatello, :raphel, :michaelangelo]</span>
</code></pre>
<p><br>
<br></p>
<p><strong>Lambdas vs. Procs:</strong></p>
<p>There are not many differences between lambdas and procs. However, there are a few: First, lambdas checks the number of arguments passed to it, while procs do not. This means that lambdas will throw in an error if you pass in the wrong number of arguments, and a proc will just ignore any unexpected arguments and assign <code>nil</code> to any that are missing. Second, when a lambda returns a value, it sends the control back to the calling method. When procs return a value, they do it immediately without going back to the calling method.</p>
<p>An example between procs &amp; lambdas:</p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>batman_ironman_proc
    victor = <span class="hljs-constant">Proc</span>.new { <span class="hljs-keyword">return</span> <span class="hljs-string">"Batman will win!"</span> }
    victor.call
    <span class="hljs-string">"Iron Man will win!"</span>
<span class="hljs-keyword">end</span>

puts batman_ironman_proc

<span class="hljs-function"><span class="hljs-keyword">def</span> </span>batman_ironman_lambda
    victor = lambda { <span class="hljs-keyword">return</span> <span class="hljs-string">"Batman will win!"</span> }
    victor.call
    <span class="hljs-string">"Iron Man will win!"</span>
<span class="hljs-keyword">end</span>

puts batman_ironman_lambda

<span class="hljs-comment"># ==&gt; Batman will win!</span>
<span class="hljs-comment"># ==&gt; Ironman will win!</span>
</code></pre>
<p>See how the proc prints out <code>&quot;Batman will win!&quot;</code>? That shows that the proc instantly returns the value and doesn’t shift the control back to the method. The lambda however returns the value then gives the control back to the method. Since methods return the last expression if no return is defined, <code>&quot;Ironman will win!&quot;</code> gets printed to the console.</p>
<p><br></p>
<p><strong>Passing Lambdas to Methods:</strong></p>
<p>Just like procs also, we need to use the ampersand (<code>&amp;</code>) operator at the beginning of the lambda name when we pass it to a method. This will convert the lambda into a block for the method to run.</p>
<p>Another example:</p>
<pre><code class="lang-ruby">my_array = [<span class="hljs-string">"raindrops"</span>, <span class="hljs-symbol">:kettles</span>, <span class="hljs-string">"whiskers"</span>, <span class="hljs-symbol">:mittens</span>, <span class="hljs-symbol">:packages</span>]

symbol_filter = lambda { |x| x.is_a? <span class="hljs-constant">Symbol</span> }
symbols = my_array.select(&amp;symbol_filter)
</code></pre>
<pre><code> # ==&gt; [:kettles, :mittens, :packages]
</code></pre>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../classes/README.html" class="navigation navigation-prev " aria-label="Previous page: Classes"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../modules/README.html" class="navigation navigation-next " aria-label="Next page: Modules"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
